<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test New Preset Feature</title>
</head>
<body>
    <h1>OTTO New Preset Test - Improved Version</h1>
    <p>Open index.html in another tab and test the new preset feature:</p>
    
    <h2>Test Steps:</h2>
    <ol>
        <li>Click the Preset Edit button (pencil icon in row 1)</li>
        <li>The Preset Management modal should open</li>
        <li>You should see a "New" button with a plus icon next to the Undo button</li>
        <li>Click the "New" button</li>
        <li>Expected: Creates "Preset 1" with factory default settings</li>
        <li>Expected: "Default" preset remains unchanged</li>
        <li>Expected: Automatically loads "Preset 1"</li>
        <li>Click "New" again</li>
        <li>Expected: Creates "Preset 2" with factory defaults</li>
        <li>Continue clicking "New"</li>
        <li>Expected: Creates "Preset 3", "Preset 4", etc.</li>
    </ol>
    
    <h2>Console Commands for Testing:</h2>
    <pre>
// View all presets
otto.presets

// Check Default is unchanged
otto.presets['default']

// Check numbered presets
otto.presets['preset-1']
otto.presets['preset-2']
otto.presets['preset-3']

// Manually create new preset
otto.createNewDefaultPreset()

// Check current preset
otto.currentPreset
    </pre>
    
    <h2>Expected Behavior:</h2>
    <ul>
        <li><strong>Default stays pristine</strong> - Never modified or renamed</li>
        <li><strong>Sequential numbering</strong> - Preset 1, Preset 2, Preset 3...</li>
        <li><strong>Auto-increment</strong> - Finds highest number and adds 1</li>
        <li><strong>Fresh settings</strong> - Each new preset starts with factory defaults</li>
        <li><strong>Immediate load</strong> - New preset is loaded right after creation</li>
    </ul>
    
    <h2>Default Values in New Presets:</h2>
    <ul>
        <li>Kit: Acoustic</li>
        <li>Pattern Group: Favorites</li>
        <li>Sliders: Swing=25, Energy=50, Volume=75</li>
        <li>Mini Sliders: 50, 30, 80</li>
        <li>Only Player 1 has Auto toggle active</li>
        <li>No patterns selected</li>
        <li>No fills active</li>
        <li>No players muted</li>
        <li>Tempo: 120</li>
        <li>4 active players</li>
    </ul>
    
    <h2>Visual Confirmation:</h2>
    <p>After clicking New, you should see:</p>
    <ul>
        <li>Preset dropdown shows "Preset 1" (or next number)</li>
        <li>Preset list shows new preset</li>
        <li>Default preset remains in list unchanged</li>
        <li>All UI elements reset to default states</li>
        <li>Notification: "Created 'Preset 1'"</li>
        <li>Input field clears</li>
    </ul>
    
    <h2>Advantages of This Approach:</h2>
    <ul>
        <li>✅ Default always available as factory reset reference</li>
        <li>✅ No confusing "Default 2", "Default 3" clutter</li>
        <li>✅ Clear distinction between factory and user presets</li>
        <li>✅ Predictable naming pattern</li>
        <li>✅ Users can rename presets later to meaningful names</li>
    </ul>
</body>
</html>